function e(s){s.directive("query",(o,{value:i,expression:u},{Alpine:n,evaluate:a})=>{let t=a(u);n.store("query-"+i,{fn:t.fn||null,runOnMount:t.runOnMount||!1,executeCount:0,status:"stall",data:null,onSuccess:t.onSuccess||null,onFailure:t.onFailure||null,onSettled:t.onSettled||null,init(){this.runOnMount&&this.execute()},async execute(){this.executeCount++,this.status=this.executeCount==1?"executing-first":"executing";try{this.data=await this.fn(),this.status="success",this.onSuccess&&await this.onSuccess(this.data)}catch{this.status="failure",this.onFailure&&await this.onFailure(this.data)}this.onSettled&&await this.onSettled(this.status,this.data)}})})}var h=e;export{h as default};
